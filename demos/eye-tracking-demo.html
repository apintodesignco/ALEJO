<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ALEJO Eye Tracking Demo</title>
  <link rel="stylesheet" href="eye-tracking-demo.css">
</head>
<body>
  <div id="app">
    <!-- Content will be dynamically generated by the demo script -->
    <div class="container">
      <div class="header">
        <h1>ALEJO Eye Tracking Demo</h1>
        <p>Loading eye tracking modules...</p>
      </div>
      
      <!-- Accessibility Controls -->
      <div class="accessibility-controls">
        <h3>Accessibility Options</h3>
        <div class="accessibility-option">
          <input type="checkbox" id="highContrast">
          <label for="highContrast">High Contrast Mode</label>
        </div>
        <div class="accessibility-option">
          <input type="checkbox" id="largerTargets">
          <label for="largerTargets">Larger Calibration Targets</label>
        </div>
        <div class="accessibility-option">
          <input type="checkbox" id="slowerAnimation">
          <label for="slowerAnimation">Slower Animations</label>
        </div>
        <div class="accessibility-option">
          <input type="checkbox" id="voicePrompts">
          <label for="voicePrompts">Voice Prompts</label>
        </div>
        <div class="accessibility-option">
          <input type="checkbox" id="extraTime">
          <label for="extraTime">Extra Time for Calibration</label>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Calibration Overlay (Hidden by default) -->
  <div class="calibration-overlay hidden">
    <div class="calibration-point"></div>
    <div class="calibration-instructions">
      Follow the red dot with your eyes
    </div>
    <div class="calibration-progress">
      <div class="calibration-progress-bar"></div>
    </div>
  </div>
  
  <!-- Import as module -->
  <script type="module">
    import { initializeDemo } from './eye-tracking-demo.js';
    
    // Set up accessibility controls
    document.querySelectorAll('.accessibility-option input').forEach(input => {
      input.addEventListener('change', updateAccessibilitySettings);
    });
    
    function updateAccessibilitySettings() {
      const settings = {
        highContrastMode: document.getElementById('highContrast').checked,
        largerTargets: document.getElementById('largerTargets').checked,
        slowerAnimation: document.getElementById('slowerAnimation').checked,
        voicePrompts: document.getElementById('voicePrompts').checked,
        extraTime: document.getElementById('extraTime').checked
      };
      
      // Publish accessibility settings update
      window.dispatchEvent(new CustomEvent('accessibility:settings:changed', {
        detail: { biometrics: { eyeTracking: { accessibility: settings } } }
      }));
    }
    
    // Initialize demo when page is loaded
    window.addEventListener('DOMContentLoaded', () => {
      // Short delay to ensure DOM is fully ready
      setTimeout(initializeDemo, 100);
    });
  </script>
</body>
</html>
